# This YAML file is a declarative manifest that describes the setup
# of an AutoKitteh project that orchestrates the request and approval 
# process for break glass scenarios.
#
# Before deploying this AutoKitteh project, set "SPREAD_SHEET_ID"
# to your own Slack Channel.
#
# After creating this AutoKitteh project by applying this file,
# initialize its Jira and Slack connections.

version: v1

project:
  name: rooms_reservation
  vars:
    - name: SPREAD_SHEET_ID
      value: "1_yEEKKZn_0pbtnIKjD0OtKUhlrqKs5bmmfJIDaHCuSI"

  connections:
    - name: calendar_conn
      integration: googlegalendar
    - name: slack_connection 
      integration: slack
    - name: google_sheets_conn
      integration: googlesheets
  triggers:
    - name: slack_slash_command_roomstatus
      connection: slack_connection
      event_type: slash_command
      call: room_status.py:on_slack_roomstatus_slash_command 
      filter: data.command == "/roomstatus"
    - name: slack_slash_command_createmeeting
      connection: slack_connection
      event_type: slash_command
      call: create_meeting.py:on_slack_createmeeting_slash_command 
      filter: data.command == "/createmeeting"
    - name: slack_slash_command_whatsfree
      connection: slack_connection
      event_type: slash_command
      call: whats_free.py:on_slack_whatsfree_slash_command 
      filter: data.command == "/whatsfree"

    