version: v2

project:
  name: github_review

  connections:
    - name: github
      integration: github

  triggers:
    - name: review_issue_comment
      connection: github
      event_type: slash_command
      call: handlers.py:on_review_issue_comment
      filter: "data.actual_event_type == 'issue_comment' && data.actual_data.action == 'created' && data.command.name == 'review'"

    - name: unreview_issue_comment
      connection: github
      event_type: slash_command
      call: handlers.py:on_unreview_issue_comment
      filter: "data.actual_event_type == 'issue_comment' && data.actual_data.action == 'created' && data.command.name == 'unreview'"
